{% extends "base.html.twig" %}

{% block title %}Task{% endblock %}
{% block body %}
    {% block nav %}
        {{ parent() }}
    {% endblock %}
    <section id="show-task">
        <div class="container">
            {% if is_granted('IS_AUTHENTICATED_REMEMBERED') %}
                <a href="{{ path("admin.task") }}">
                    <button class="btn btn-warning">Volver</button>
                </a>
                <table class="table table-striped table-responsive">
                    <thead>
                    <th>tarea</th>
                    <th>Descripci√≥n de la tarea</th>
                    <th>Material a utilizar</th>
                    <th>Estado actual</th>
                    <th>Tiempo</th>
                    </thead>
                    <tr>
                    </tr>
                    <tbody>
                    <td>{{ task.title }}</td>
                    <td>{{ task.description }}</td>
                    <td>{{ task.material }}</td>

                    <td>
                        {% if task.state == 0 %}
                            <span style="color:red">Pendiente</span>
                        {% elseif task.state == 1 %}
                            <span style="color:orange;">En proceso</span>
                        {% elseif task.state == 2 %}
                            <span style="color:blue;">Realizada</span>
                        {% else %}
                            <span style="color:green;">Verificada</span>
                        {% endif %}
                    </td>
                    </tbody>
                </table>
                <form name="editTaskOperator" method="Post">
                    <input type="hidden" name="id" value="{{ task.id }}">
                    {% if task.state != 3 %}
                        <div class="row">
                            <div class="form-group col-md-6">

                                <select name="stateOper" class="form-select">
                                    <option value="" disabled selected>SELECCIONA EL ESTADO</option>
                                    <option value="0">Pendiente</option>
                                    <option value="1">En proceso</option>
                                    <option value="2">Realizado</option>
                                </select>
                            </div>
                            <div class="form-group col-md-6 text-center">
                                <button type="submit" class="btn btn-dark btn-lg">Modifica</button>
                            </div>
                        </div>
                    {% endif %}
                </form>
            {% endif %}
        </div>
    </section>
{% endblock %}
